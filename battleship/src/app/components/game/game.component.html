<div class="container">
    <div class="content">

        <!-- Se c'Ã¨ un solo giocatore nella room -->
        <h2 *ngIf="players == false">Aspettando un secondo giocatore...</h2>

        <!-- 1 Fase del gioco: Posizionamento navi -->
        <div *ngIf="players && !gamedata.sent">
            <h2 class="posizionamento">Fase di Posiziamento - Posiziona le tue barche</h2>
            <p *ngIf="!submittable">Stai per posizionare la nave da {{ship_try[0]}} unitÃ </p>
        </div>
        <!-- Operazioni sulle barche -->
        <div class="posizionamento">
            <button *ngIf="players != false" id="cambio" (click)="verPos($event)">Posizionamento Verticale</button>
            <button *ngIf="deletable" (click)="deleteShips()">Rimuovi barche</button>
            <button *ngIf="submittable" (click)="submitBoard()">Fine Fase di Posizionamento</button>
        </div>

        <!-- Campo Giocatore -->
        <div *ngIf="gamedata.notOver" class="columns">
            <div class="column has-text-centered" *ngFor="let board of boards | slice:0:1; let i = index">
                <table class="is-bordered" [style.opacity]="i == player ? 0.5 : 1">
                    <tr *ngFor="let row of board.tiles; let j = index">
                        <td *ngFor="let col of row; let k = index" (click)="shipPositioning($event)" [style.background-color]="col.value == 1 ? 'black' : 'transparent'" [class.miss]="col.status == 'miss'" [class.hit]="col.status =='hit'" [class.win]="col.status == 'win'" [class.fail]="col.status !== 'win'"
                            class="battleship-tile" id="t{{i}}{{j}}{{k}}">
                            {{ col.value == "1" ? (col.status == "hit" ? "ðŸ’€" : "X") : (col.status == "miss" ? "â›¶" : (col.status == "hit" ? "ðŸ’€" : "ðŸŒŠ")) }}
                        </td>
                    </tr>
                </table>
                <hr>

            </div>

            <h2 class="posizionamento" *ngIf="gamedata.sent && !gamedata.received">Il tuo campo Ã¨ stato inviato correttamente - Il gioco partirÃ  non appena il tuo Avversario finirÃ  di posizionare le sue barche</h2>
            <!-- Campo Avversario -->
            <div *ngIf="gamedata.received && gamedata.sent">
                <div class="column has-text-centered" *ngFor="let board of boards | slice:1:2; let i = index">
                    <table class="is-bordered">
                        <tr *ngFor="let row of board.tiles; let j = index">
                            <td *ngFor="let col of row; let k = index" (click)="playerOneClick($event)" [style.background-color]="col.used ? '' : 'transparent'" [class.win]="col.status == 'win'" [class.fail]="col.status !== 'win'" class="battleship-tile" id="t{{i}}{{j}}{{k}}">
                                {{ col.value == "1" ? (col.status == "hit" ? "ðŸ’€" : " ") : (col.status == "miss" ? "â›¶" : (col.status == "hit" ? "ðŸ’€" : " ")) }}
                            </td>
                        </tr>
                    </table>
                    <hr>

                </div>
            </div>
        </div>

        <div class="has-text-centered">
            <span class="tag is-warning" *ngIf="gamedata.turno == gamedata.numeroGiocatore"> Your turn!</span>
            <span class="tag is-danger" *ngIf="gamedata.turno != gamedata.numeroGiocatore"> Other player's turn.</span>
            <h5 class="title"><small>{{ players }} player(s) in game</small></h5>
        </div>

        <!-- Vittoria/Sconfitta -->
        <div *ngIf="end">
            <h2>You win! congratulations! leave this tab to start another game.</h2>
        </div>
        <div *ngIf="gamedata.loses">
            <h2>You lose, leave this tab to start another game.</h2>
        </div>

    </div>
</div>